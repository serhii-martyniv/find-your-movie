(this["webpackJsonpfind-your-movie-app"]=this["webpackJsonpfind-your-movie-app"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(20),a=n.n(c),s=(n(45),n(46),n(0)),o=function(e){return Object(s.jsx)("div",{className:"footer",children:e.children})};n(48);function l(){return Object(s.jsxs)("div",{className:"logo",children:[Object(s.jsx)("strong",{children:"netflix"}),Object(s.jsx)("span",{children:"roulette"})]})}var j=function(e){return Object(s.jsx)("div",{className:"error",children:"404"})},d=n(12),u=(n(49),function(e){var t=e.handleShow;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("a",{className:"addMovieButton",onClick:t,children:"+ add movie"})})}),v=(n(50),n(11)),h=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)("div",{className:"search",children:[Object(s.jsx)("input",{type:"text",placeholder:"What do you want to watch?",onChange:function(e){r(e.target.value)}}),Object(s.jsx)(v.b,{className:"searchButton",to:{pathname:n?"/find-your-movie/search/".concat(n):"/find-your-movie/"},children:"Search"})]})},b=(n(55),n(56),function(e){var t=e.handleClose,n=e.show,i=e.children,r=n?"modal display-block":"modal display-none";return Object(s.jsx)("div",{className:r,children:Object(s.jsxs)("section",{className:"modal-main",children:[Object(s.jsx)("a",{className:"closeModal",onClick:t,href:"#",children:"X"}),i]})})}),m=n(25),O=function(e){var t=Object(m.a)({initialValues:{title:"",year:"",url:"",genre:"",overview:"",runtime:""},validate:function(e){var t={};return e.title?e.title.length>15&&(t.title="Must be 15 characters or less"):t.title="Required",e.url?e.url.startsWith("/")||(t.url="The url mast start with /"):t.url="Required",t},onSubmit:function(t){e.onAddMovie(t)}});return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"add movie"}),Object(s.jsxs)("form",{onSubmit:t.handleSubmit,children:[t.errors.title?Object(s.jsx)("div",{children:t.errors.title}):null,Object(s.jsxs)("label",{htmlFor:"title",children:["Title",Object(s.jsx)("input",{id:"title",name:"title",value:t.values.title,onChange:t.handleChange})]}),Object(s.jsxs)("label",{htmlFor:"year",children:["release date",Object(s.jsx)("input",{id:"year",type:"date",name:"year",value:t.values.year,onChange:t.handleChange})]}),t.errors.url?Object(s.jsx)("div",{children:t.errors.url}):null,Object(s.jsxs)("label",{htmlFor:"url",children:["movie url",Object(s.jsx)("input",{id:"url",name:"url",value:t.values.url,onChange:t.handleChange})]}),Object(s.jsxs)("label",{htmlFor:"genre",children:["genre",Object(s.jsxs)("select",{id:"genre",value:t.values.genre,name:"genre",onChange:t.handleChange,children:[Object(s.jsx)("option",{children:"Select genre"}),Object(s.jsx)("option",{children:"comedy"})]})]}),Object(s.jsxs)("label",{htmlFor:"overview",children:["Overview",Object(s.jsx)("input",{id:"overview",name:"overview",value:t.values.overview,placeholder:"Overview here",onChange:t.handleChange})]}),Object(s.jsxs)("label",{htmlFor:"runtime",children:["Runtime",Object(s.jsx)("input",{id:"runtime",name:"runtime",value:t.values.runtime,placeholder:"Runtime here",onChange:t.handleChange})]}),Object(s.jsxs)("div",{className:"actions",children:[Object(s.jsx)("a",{className:"reset",children:"Reset"}),Object(s.jsx)("button",{className:"save",type:"submit",children:"Submit"})]})]})]})},x=function(e){var t=Object(i.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],a=function(){c(!0)},o=function(){c(!1)},l=function(t){e.addMovie(t)},j=function(){return Object(s.jsx)("h1",{className:"slogan",children:"find your movie"})},v=function(){return Object(s.jsxs)("div",{className:"topBar",children:[e.logo,Object(s.jsx)(u,{handleShow:a}),Object(s.jsx)(b,{show:r,handleClose:o,children:Object(s.jsx)(O,{onAddMovie:l})})]})};return Object(s.jsxs)("div",{className:"header container",ref:e.refItem,children:[Object(s.jsx)(v,{}),Object(s.jsx)(j,{}),Object(s.jsx)(h,{})]})},f=n(15),p=n(39),g=n(5),y=n(30),M=n.n(y),w=n(34);function C(){return(C=Object(w.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/serhii-martyniv/find-your-movie/movieList");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N="ADD-MOVIE",I="UPDATE-MOVIE",S="DELETE-MOVIE",F="SET-SORT",E="SET-FILTER",k="SET-ACTIVE-MOVIE-ID",D="FETCH-MOVIES",L="GET_MOVIE",T="SET_MOVIES",R={activeMovieId:"",categories:["all","comedy","crime","drama"],movieList:[],sort:"year",filter:"all"},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:case L:return Object(g.a)({},e);case N:var n={id:e.movieList.length+1,title:t.newMovie.title,year:t.newMovie.year,genre:t.newMovie.genre,overview:t.newMovie.overview,runtime:t.newMovie.runtime};return Object(g.a)(Object(g.a)({},e),{},{movieList:[].concat(Object(p.a)(e.movieList),[n])});case T:return Object(g.a)(Object(g.a)({},e),{},{movieList:t.movies});case I:var i=e.movieList.map((function(n){return n.id===e.activeMovieId?{id:n.id,image:n.image,alt:n.alt,title:t.updatedMovie.title,year:t.updatedMovie.year,genre:t.updatedMovie.genre,overview:t.updatedMovie.overview,url:t.updatedMovie.url,runtime:t.updatedMovie.runtime}:n}));return Object(g.a)(Object(g.a)({},e),{},{movieList:i});case S:var r=e.movieList.filter((function(t){return t.id!==e.activeMovieId}));return Object(g.a)(Object(g.a)({},e),{},{movieList:r});case F:return Object(g.a)(Object(g.a)({},e),{},{sort:t.sort});case k:return Object(g.a)(Object(g.a)({},e),{},{activeMovieId:t.movieId});case E:return Object(g.a)(Object(g.a)({},e),{},{filter:t.filter});default:return e}},V=function(e){return{type:N,newMovie:e}},W=function(){return function(e){(function(){return C.apply(this,arguments)})().then((function(t){e({type:T,movies:t})}))}},B=Object(f.b)((function(e){return{}}),(function(e){return{addMovie:function(t){e(V(t))}}}))(x),q=n(35),H=n(36),U=n(40),G=n(38),J=(n(58),function(e){return Object(s.jsxs)("div",{className:"movieItem",children:[Object(s.jsxs)("div",{className:e.movieActionClasses,onClick:e.showMovieActions,children:[Object(s.jsx)("div",{onClick:e.showModalEdit,children:"Edit"}),Object(s.jsx)("div",{onClick:e.showModalDelete,children:"Delete"})]}),Object(s.jsx)(v.b,{to:{pathname:"/find-your-movie/film/".concat(e.movieItem.id)},children:Object(s.jsx)("img",{src:e.movieItem.image})}),Object(s.jsxs)("div",{className:"description",children:[Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h4",{children:e.movieItem.title}),Object(s.jsx)("p",{children:e.movieItem.genre})]}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"year",children:e.movieItem.year})})]})]})}),_=function(e){return Object(s.jsx)(s.Fragment,{children:e.count})},P=(n(59),function(e){return Object(s.jsx)("div",{className:"movieBarWrapper",children:e.children})}),X=(n(60),function(e){var t=Object(m.a)({initialValues:{title:"",year:"",genre:"",overview:"",runtime:""},validate:function(e){var t={};return e.title?e.title.length>15&&(t.title="Must be 15 characters or less"):t.title="Required",e.url?e.url.startsWith("/")||(t.url="The url mast start with /"):t.url="Required",t},onSubmit:function(t){e.onUpdateMovie(t)}});return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Edit movie"}),Object(s.jsxs)("form",{onSubmit:t.handleSubmit,children:[t.errors.title?Object(s.jsx)("div",{children:t.errors.title}):null,Object(s.jsxs)("label",{htmlFor:"edit-title",children:["Title",Object(s.jsx)("input",{id:"edit-title",name:"title",value:t.values.title,onChange:t.handleChange})]}),Object(s.jsxs)("label",{htmlFor:"year",children:["release date",Object(s.jsx)("input",{id:"edit-year",type:"date",name:"year",value:t.values.year,onChange:t.handleChange})]}),t.errors.url?Object(s.jsx)("div",{children:t.errors.url}):null,Object(s.jsxs)("label",{htmlFor:"edit-url",children:["movie url",Object(s.jsx)("input",{id:"edit-url",name:"url",value:t.values.url,onChange:t.handleChange})]}),Object(s.jsxs)("label",{htmlFor:"edit-genre",children:["genre",Object(s.jsxs)("select",{id:"edit-genre",value:t.values.genre,name:"genre",onChange:t.handleChange,children:[Object(s.jsx)("option",{children:"Select genre"}),Object(s.jsx)("option",{children:"comedy"})]})]}),Object(s.jsxs)("label",{htmlFor:"edit-overview",children:["Overview",Object(s.jsx)("input",{id:"edit-overview",name:"overview",value:t.values.overview,placeholder:"Overview here",onChange:t.handleChange})]}),Object(s.jsxs)("label",{htmlFor:"edit-runtime",children:["Runtime",Object(s.jsx)("input",{id:"edit-runtime",name:"runtime",value:t.values.runtime,placeholder:"Runtime here",onChange:t.handleChange})]}),Object(s.jsxs)("div",{className:"actions",children:[Object(s.jsx)("a",{className:"reset",children:"Reset"}),Object(s.jsx)("button",{className:"save",type:"submit",children:"Submit"})]})]})]})}),z=function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Delete movie"}),Object(s.jsx)("label",{children:"Are you sure you want to delete this movie?"}),Object(s.jsx)("div",{className:"actions",children:Object(s.jsx)("div",{className:"save",onClick:e.onDeleteMovie,children:"Confirm"})})]})};function K(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;e?(t.current.style.display="block",n.current.style.display="none"):(t.current.style.display="none",n.current.style.display="block")}var Q=function(e){return Object(s.jsx)("div",{className:"error",children:"No Movies Found"})},Y=function(e){return Object(s.jsxs)("div",{className:"filterWrapper",children:[Object(s.jsx)("span",{children:"sort by"}),Object(s.jsxs)("select",{onChange:e.onChangeSort,children:[Object(s.jsx)("option",{value:"genre",children:"Genre"}),Object(s.jsx)("option",{value:"year",children:"Release date"}),Object(s.jsx)("option",{value:"title",children:"Title"})]})]})},Z=n(3),$=function(e){var t=Object(Z.e)().search,n=Object(i.useState)(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],o=Object(i.useState)(!1),l=Object(d.a)(o,2),j=l[0],u=l[1],v=Object(i.useState)(!1),h=Object(d.a)(v,2),m=h[0],O=h[1],x=Object(i.useState)(null),f=Object(d.a)(x,2),p=f[0],g=f[1],y=Object(i.useState)([]),M=Object(d.a)(y,2),w=M[0],C=M[1];var N=function(t){e.updateMovieId(t)},I=function(t){e.changeFilter(t.target.name)},S=function(t){D(),e.deleteMovie(t)},F=function(t){D(),e.updateMovie(t)},E=e.sort,k=e.filter;Object(i.useEffect)((function(){C(e.movies)}),[e.movies]);var D=Object(i.useCallback)((function(){a(!1),u(!1)}),[]),L=Object(i.useMemo)((function(){return w.filter((function(e){return t?-1!==e.title.indexOf(t)?e:void 0:e})).filter((function(e){return"all"===k||e.genre===k?e:void 0})).sort((function(e,t){return"year"===E?e.year>t.year?1:-1:"title"===E?e.title>t.title?1:-1:"genre"===E?e.genre>t.genre?1:-1:void 0})).map((function(t){var n=m&&t.id===p?"dots display-block":"dots display-none";return Object(s.jsx)(J,{movieItem:t,showModalDelete:function(){return function(e){N(e),u(!0)}(t.id)},showModalEdit:function(){return function(e){N(e),a(!0)}(t.id)},showMovieActions:function(){return function(e,t){O(!e),g(t)}(m,t.id)},movieActionClasses:n,details:K,refMovieDetails:e.refMovieDetails,refHeader:e.refHeader},t.id)}))}),[w,m,p,E,k,t]),T=Object(i.useMemo)((function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(b,{show:c,handleClose:D,children:Object(s.jsx)(X,{activeMovie:e.activeMovieId,onUpdateMovie:F})}),Object(s.jsx)(b,{show:j,handleClose:D,children:Object(s.jsx)(z,{activeMovie:e.activeMovieId,onDeleteMovie:S})})]})}),[c,j,e.activeMovieId]),R="",A="";if(L.length<1)L=Object(s.jsx)(Q,{});else{var V=Object(s.jsx)("strong",{children:L.length});R=w.length>1?Object(s.jsxs)(s.Fragment,{children:[V," ",Object(s.jsx)("span",{children:"movies found"})]}):Object(s.jsxs)(s.Fragment,{children:[V," ",Object(s.jsx)("span",{children:"movie found"})]});var W=-1;A=e.categories.map((function(e){W++;var t=e===k?"category-item active":"category-item";return Object(s.jsx)("a",{name:e,className:t,onClick:I,href:"#",children:e},W)}))}return Object(s.jsxs)("div",{className:"movieList container",children:[T,Object(s.jsxs)(P,{children:[Object(s.jsx)("div",{className:"categoriesWrapper",children:A}),Object(s.jsx)(Y,{onChangeSort:function(t){e.changeSort(t.target.value)}})]}),Object(s.jsx)(_,{count:R}),Object(s.jsx)("div",{className:"movieListWrapper",children:L})]})},ee=function(e){Object(U.a)(n,e);var t=Object(G.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"componentDidMount",value:function(){this.props.setMovies()}},{key:"render",value:function(){return Object(s.jsx)($,Object(g.a)({},this.props))}}]),n}(r.a.Component),te=Object(f.b)((function(e){return{movies:e.movies.movieList,categories:e.movies.categories,sort:e.movies.sort,filter:e.movies.filter,activeMovieId:e.movies.activeMovieId}}),(function(e){return{changeSort:function(t){e(function(e){return{type:F,sort:e}}(t))},changeFilter:function(t){e(function(e){return{type:E,filter:e}}(t))},updateMovie:function(t){e(function(e){return{type:I,updatedMovie:e}}(t))},addMovie:function(t){e(V(t))},deleteMovie:function(t){e(function(e){return{type:S,movieId:e}}(t))},updateMovieId:function(t){e(function(e){return{type:k,movieId:e}}(t))},setMovies:function(){e(W())}}}))(ee),ne=(n(61),function(e){return Object(s.jsx)("div",{className:"movieDetails container",children:e.movie&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"headerMovieDetail",children:[e.logo,Object(s.jsx)(v.b,{to:"/find-your-movie/",children:"Search "})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("img",{src:e.movie.image,alt:e.movie.alt}),Object(s.jsxs)("div",{className:"description",children:[Object(s.jsxs)("div",{className:"titleMovie row",children:[Object(s.jsx)("h1",{children:e.movie.title}),Object(s.jsx)("h1",{children:e.movie.overview})]}),Object(s.jsx)("p",{children:"Oscar winning movie"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{children:e.movie.year}),Object(s.jsx)("div",{children:e.movie.runtime})]}),Object(s.jsx)("p",{children:e.movie.description})]})]})]})})}),ie=function(e){var t=Object(Z.e)(),n=Object(f.c)((function(e){return e.movies.movieList.find((function(e){return e.id==t.id}))}));return Object(s.jsx)(ne,{movie:n,logo:e.logo})};var re=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Z.a,{exact:!0,path:"/find-your-movie/",children:[Object(s.jsx)(B,{logo:Object(s.jsx)(l,{})}),Object(s.jsx)(te,{})]}),Object(s.jsxs)(Z.a,{path:"/find-your-movie/film/:id",component:te,children:[Object(s.jsx)(ie,{logo:Object(s.jsx)(l,{})}),Object(s.jsx)(te,{})]}),Object(s.jsxs)(Z.a,{path:"/find-your-movie/search/:search",children:[Object(s.jsx)(B,{logo:Object(s.jsx)(l,{})}),Object(s.jsx)(te,{})]}),Object(s.jsx)(Z.a,{path:"/find-your-movie/not-found",component:j}),Object(s.jsx)(o,{children:Object(s.jsx)(l,{})})]})},ce=n(19),ae=n(37),se=Object(ce.b)({movies:A}),oe=Object(ce.c)(se,Object(ce.a)(ae.a));a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(v.a,{children:Object(s.jsx)(f.a,{store:oe,children:Object(s.jsx)(re,{})})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.0c5b8212.chunk.js.map